<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Bar Chart</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js"></script>
</head>

<body>
    <div id="chart" style="width: 600px;height:400px;"></div>
    <script>
        // 使用fetch API请求后端数据
        fetch('https://localhost/api/data')
            .then(response => response.json())
            .then(data => {
                // 解析后端返回的数据
                let xData = data.map(item => item.x);
                let yData = data.map(item => item.y);

                // 使用ECharts渲染图表
                var chartDom = document.getElementById('chart');
                var myChart = echarts.init(chartDom);
                var option;

                option = {
                    title: {
                        text: 'Bar Chart'
                    },
                    xAxis: {
                        type: 'category',
                        data: xData
                    },
                    yAxis: {
                        type: 'value'
                    },
                    series: [{
                        data: yData,
                        type: 'bar'
                    }]
                };

                myChart.setOption(option);
            })
            .catch(error => console.error('Error:', error));
    </script>
</body>

</html>